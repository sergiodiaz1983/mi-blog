var Agent = require('./lib/agent');


var node = new Agent().start();



// if (arguments.length < 1 || arguments[0] == '--server' ) {

//     // node = new Node({port: 1337}).start();



//     var server = net.createServer(function (connection) {
//         console.log('Server connected');

//         connection.on('end', function () {
//             console.log('Server disconnected');
//         });

//         connection.write('Hello World');
//         connection.pipe(connection);
//     });


//     server.listen(1337, function () {
//         console.log('Server bound');
//     });

// } else {

// //    node = new Node();

//     var client = net.connect({port: 1337}, function () {
//         console.log('Client connected');
//     });

//     client.on('data', function (data) {
//         console.log(data.toString());
//         client.end();
//     });

//     client.on('end', function () {
//         console.log('Client disconnected');
//     });
// }
